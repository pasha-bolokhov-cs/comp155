<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0115)https://online.camosun.ca/content/enforced/83589-2015Q2COMP155X01AB/NormalExampleOnlineRatingSolution.html?ou=83589 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


  
  <meta http-equiv="Content-Language" content="en-us">


  
  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info = {"beacon":"beacon-6.newrelic.com","errorBeacon":"bam.nr-data.net","licenseKey":"9efc9e456b","applicationID":"2089117","transactionName":"b1wHYUNYWxEFUkJbDlYWLUFFSX0DClVaVxMXfVd5H3VlTDBeWV4SFnERQUF0WgYRXVMcIldXEVBfTX0WCV1wWw1MXBd9UFdRDgFD","queueTime":0,"applicationTime":64,"ttGuid":"D462BE192AC2D357","agent":"js-agent.newrelic.com/nr-515.min.js"}</script><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(n,t,e){function r(e){if(!t[e]){var o=t[e]={exports:{}};n[e][0].call(o.exports,function(t){var o=n[e][1][t];return r(o?o:t)},o,o.exports)}return t[e].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<e.length;o++)r(e[o]);return r}({QJf3ax:[function(n,t){function e(n){function t(t,e,a){n&&n(t,e,a),a||(a={});for(var u=c(t),f=u.length,s=i(a,o,r),p=0;f>p;p++)u[p].apply(s,e);return s}function a(n,t){f[n]=c(n).concat(t)}function c(n){return f[n]||[]}function u(){return e(t)}var f={};return{on:a,emit:t,create:u,listeners:c,_events:f}}function r(){return{}}var o="nr@context",i=n("gos");t.exports=e()},{gos:"7eSDFh"}],ee:[function(n,t){t.exports=n("QJf3ax")},{}],gos:[function(n,t){t.exports=n("7eSDFh")},{}],"7eSDFh":[function(n,t){function e(n,t,e){if(r.call(n,t))return n[t];var o=e();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(n,t,{value:o,writable:!0,enumerable:!1}),o}catch(i){}return n[t]=o,o}var r=Object.prototype.hasOwnProperty;t.exports=e},{}],D5DuLP:[function(n,t){function e(n,t,e){return r.listeners(n).length?r.emit(n,t,e):(o[n]||(o[n]=[]),void o[n].push(t))}var r=n("ee").create(),o={};t.exports=e,e.ee=r,r.q=o},{ee:"QJf3ax"}],handle:[function(n,t){t.exports=n("D5DuLP")},{}],XL7HBI:[function(n,t){function e(n){var t=typeof n;return!n||"object"!==t&&"function"!==t?-1:n===window?0:i(n,o,function(){return r++})}var r=1,o="nr@id",i=n("gos");t.exports=e},{gos:"7eSDFh"}],id:[function(n,t){t.exports=n("XL7HBI")},{}],loader:[function(n,t){t.exports=n("G9z0Bl")},{}],G9z0Bl:[function(n,t){function e(){var n=v.info=NREUM.info;if(n&&n.licenseKey&&n.applicationID&&f&&f.body){c(d,function(t,e){t in n||(n[t]=e)}),v.proto="https"===l.split(":")[0]||n.sslForHttp?"https://":"http://",a("mark",["onload",i()]);var t=f.createElement("script");t.src=v.proto+n.agent,f.body.appendChild(t)}}function r(){"complete"===f.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=n("handle"),c=n(1),u=window,f=u.document,s="addEventListener",p="attachEvent",l=(""+location).split("?")[0],d={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-515.min.js"},v=t.exports={offset:i(),origin:l,features:{}};f[s]?(f[s]("DOMContentLoaded",o,!1),u[s]("load",e,!1)):(f[p]("onreadystatechange",r),u[p]("onload",e)),a("mark",["firstbyte",i()])},{1:11,handle:"D5DuLP"}],11:[function(n,t){function e(n,t){var e=[],o="",i=0;for(o in n)r.call(n,o)&&(e[i]=t(o,n[o]),i+=1);return e}var r=Object.prototype.hasOwnProperty;t.exports=e},{}]},{},["G9z0Bl"]);</script>



  

  
  <title>Normalization - Online Rating example</title>
<!--mstheme-->
  <link rel="stylesheet" type="text/css" href="./Normalization Practice - 5 (Solution)_files/stud1111.css">

  
  <meta name="Microsoft Theme" content="studio 1111, default">
<script type="text/javascript" src="./Normalization Practice - 5 (Solution)_files/MathML.js"></script><script type="text/javascript">D2LMathML.DesktopInit('/d2l/common/mathjax/2.1/MathJax.js?config=MML_HTMLorMML&v=10.3.0.791-39','/d2l/common/mathjax/2.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML&v=10.3.0.791-39');</script><script type="text/x-mathjax-config;executed=true">MathJax.Hub.Config({ delayStartupUntil: "onload",showProcessingMessages: false, messageStyle: "none", showMathMenu: true, showMathMenuMSIE: true, menuSettings: { context: "MathJax", zoom: "None" },NativeMML: { showMathMenuMSIE: false, scale: 140 }, "HTML-CSS": { linebreaks: { automatic: true, width: "container"}, imageFont: null, scale: 130 } });</script><script type="text/javascript" src="./Normalization Practice - 5 (Solution)_files/MathJax.js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuTitle {background-color: #CCCCCC; margin: -5px 0 0 0; text-align: center; font-style: italic; font-size: 80%; color: #444444; padding: 2px 0; overflow: hidden}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style></head>


<body><div id="MathJax_Message" style="display: none;"></div>



<p>A company provides a home-made photo upload service to its registered users.&nbsp; 
Users, once registered with their name and a valid email address, can upload any 
number of photos of any size and type (jpeg, bitmap, png, pcx).&nbsp; 
Information on photo uploads also includes the image name, the date an image was 
uploaded and a single category attribute such as "people", "pets", "nature", 
etc.&nbsp; In addition, once a photo is uploaded, it can be rated by other users 
(one rating per user reviewer - 1 is not good, 5 is excellent).&nbsp; Some 
images may not have received ratings yet.&nbsp; For example, user named Smith 
uploaded image number 200 on Nov 2, 2006 as category pets with the image name of 
"My dog spot".&nbsp; Then user 110 gave the image a rating of 5 and user 139 
gave the image a rating of 4.</p>


<table id="table1" border="1" width="100%">


	<tbody>

    <tr>


		<td align="center">userNo</td>


		<td align="center">userName</td>


		<td align="center">userEmail</td>


		<td align="center">imageNo</td>


		<td align="center">dateUploaded</td>


		<td align="center">categoryNo</td>


		<td align="center">categoryName</td>


		<td align="center">imageName</td>


		<td align="center">imageSize</td>


		<td align="center">imageType</td>


		<td align="center">rating</td>


		<td align="center">ratingUserNo</td>


	</tr>


	<tr>


		<td align="center">100</td>


		<td align="center">Smith</td>


		<td><a href="mailto:smith@hotmail.com">smith@hotmail.com</a></td>


		<td align="center">200</td>


		<td align="center">Nov 2, 2006</td>


		<td align="center">1</td>


		<td align="center">pets</td>


		<td align="center">My dog spot</td>


		<td align="center">2000</td>


		<td align="center">bmp</td>


		<td align="center">5</td>


		<td align="center">110</td>


	</tr>


	<tr>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td>&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">4</td>


		<td align="center">139</td>


	</tr>


	<tr>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td>&nbsp;</td>


		<td align="center">202</td>


		<td align="center">Nov 9, 2006</td>


		<td align="center">2</td>


		<td align="center">cars</td>


		<td align="center">Dad's new car</td>


		<td align="center">1500</td>


		<td align="center">png</td>


		<td align="center">3</td>


		<td align="center">129</td>


	</tr>


	<tr>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td>&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">2</td>


		<td align="center">100</td>


	</tr>


	<tr>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td>&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">4</td>


		<td align="center">101</td>


	</tr>


	<tr>


		<td align="center">101</td>


		<td align="center">Jones</td>


		<td><a href="mailto:jones@hotmail.com">jones@hotmail.com</a></td>


		<td align="center">203</td>


		<td align="center">Nov 4, 2006</td>


		<td align="center">1</td>


		<td align="center">pets</td>


		<td align="center">Four kittens</td>


		<td align="center">3320</td>


		<td align="center">png</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


	</tr>


	<tr>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td>&nbsp;</td>


		<td align="center">204</td>


		<td align="center">Nov 10, 2006</td>


		<td align="center">3</td>


		<td align="center">nature</td>


		<td align="center">Snow scene</td>


		<td align="center">7500</td>


		<td align="center">jpg</td>


		<td align="center">5</td>


		<td align="center">123</td>


	</tr>


	<tr>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td>&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">&nbsp;</td>


		<td align="center">4</td>


		<td align="center">129</td>


	</tr>


	<tr>


		<td align="center">123</td>


		<td align="center">Woo</td>


		<td><a href="mailto:woo@bldg.com">woo@bldg.com</a></td>


		<td align="center">205</td>


		<td align="center">Nov 20, 2006</td>


		<td align="center">4</td>


		<td align="center">humour</td>


		<td align="center">red sign</td>


		<td align="center">2305</td>


		<td align="center">jpg</td>


		<td align="center">2</td>


		<td align="center">100</td>


	</tr>


  
  </tbody>
</table>


<p><b>Zero Normal Form</b></p>


<p>UserImageRating (userNo, userName, userEmail, imageNo, dateUploaded, 
categoryNo, categoryName, imageName, imageSize, imageType, rating, ratingUserNo 
)&nbsp; is not a valid relation because it contains two repeating groups<br>


<br>


<br>


<b>First Normal Form</b></p>


<p>Remove repeating groups - two of them:&nbsp;&nbsp;&nbsp; imageNo, 
dateUploaded, categoryNo, categoryName, imageName, imageSize, imageType&nbsp;&nbsp; 
and&nbsp; rating, userNo.</p>


<p>User( <u>userNo</u>, userName, userEmail)<br>


ImageRating( <u>imageNo</u>, dateUploaded, categoryNo, categoryName, imageName, 
imageSize, imageType, rating, ratingUserNo)&nbsp; - this relation contains a 
repeating group (rating, ratingUserNo) and so is not in first normal form.</p>


<p>UserImage( <span style="text-decoration: underline;">userNo</span>, <u>imageNo</u>, dateUploaded, categoryNo, categoryName, imageName, 
imageSize, imageType) <br>


UserRating( <u>imageNo</u>, <u>ratingUserNo</u>, rating)</p>


<p>Three relations:</p>


<p>User( <u>userNo</u>, userName, userEmail )<br>


UserImage( <span style="text-decoration: underline;">userNo</span>, <u>imageNo</u>, dateUploaded, categoryNo, categoryName, imageName, 
imageSize, imageType )<br>


UserRating ( <u>imageNo</u>, <u>ratingUserNo</u> , rating)&nbsp;&nbsp; </p>


<p><b>Second Normal Form</b></p>


<p>Remove partial dependencies. &nbsp;Remove any attributes from a relation that do not depend on the entire primary key.</p>


<p>Relation Users is in second normal form because it already has a single 
attribute primary key.</p>


<p>Relation UserImage is not in second normal form because dateUploaded, categoryNo,
categoryName, imageName, imageSize, and imageType depend only on
imageNo not (userNo, imageNo).</p>

<p>UserImage( <span style="text-decoration: underline;">userNo</span>, <span style="text-decoration: underline;">imageNo</span> )<br>

Images( <span style="text-decoration: underline;">imageNo</span>, dateUploaded, categoryNo, categoryName, imageName, imageSize, imageType)</p>

<p>Dependencies for relation UserRating<br>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; imageNo, 
ratingUserNo<font face="Courier New"> --&gt; </font>&nbsp;rating&nbsp;&nbsp; - no 
partial dependencies<br>


<br>


All relations are in second normal form:</p>

<p>User( <u>userNo</u>, userName, userEmail )<br>

UserImage( <span style="text-decoration: underline;">userNo</span>, <span style="text-decoration: underline;">imageNo</span> )<br>

Images( <span style="text-decoration: underline;">imageNo</span>, dateUploaded, categoryNo, categoryName, imageName, imageSize, imageType)<br>


UserRating ( <u>imageNo</u>, <u>ratingUserNo</u> , rating)&nbsp;&nbsp;</p>


<p>&nbsp;&nbsp;&nbsp; </p>


<p><b>Third Normal Form</b></p>


<p>Remove any non-trivial transitive dependencies between non-key attributes. &nbsp;&nbsp;</p>

<p>Dependencies for relation&nbsp;Images</p>


<p>&nbsp;&nbsp;&nbsp; imageNo<font face="Courier New"> --&gt;</font> categoryNo<br>


&nbsp;&nbsp;&nbsp; categoryNo <font face="Courier New">--&gt; </font>categoryName<br>


&nbsp;&nbsp;&nbsp; imageNo <font face="Courier New">--&gt;</font>&nbsp;imageName, imageSize, imageType, dateUploaded<br>


&nbsp;&nbsp;&nbsp; imageNo <font face="Courier New">--&gt;</font> categoryName&nbsp;&nbsp;&nbsp;&nbsp; 
- transitive dependency, remove categoryNo and categoryName to their own 
relation<br>


</p>

<p>UserImage( <span style="text-decoration: underline;">userNo</span>, <span style="text-decoration: underline;">imageNo</span> )</p>

<p>
Images( <u>imageNo</u>, dateUploaded, categoryNo, imageName, imageSize, 
imageType )<br>


Category( <u>categoryNo</u>, categoryName )<br>


<br>


Users ( <u>userNo</u>, userName, userEmail)<br>


UserRating( <u>imageNo</u>, <u>ratingUserNo</u>, rating )<br>


&nbsp;</p>


<p>&nbsp;</p>





<script src="./Normalization Practice - 5 (Solution)_files/nr-515.min.js"></script><script type="text/javascript" src="./Normalization Practice - 5 (Solution)_files/9efc9e456b"></script></body></html>